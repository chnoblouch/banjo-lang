add_library(banjo STATIC
    ast/ast_block.cpp
    ast/ast_node.cpp
    ast/ast_utils.cpp
    ast/ast_writer.cpp
    ast/std_config_module.cpp
    ast/test_module.cpp
    codegen/ir_lowerer.cpp
    codegen/late_reg_alloc.cpp
    codegen/liveness.cpp
    codegen/machine_pass_runner.cpp
    codegen/machine_pass_utils.cpp
    codegen/prolog_epilog_pass.cpp
    codegen/reg_alloc_pass.cpp
    codegen/stack_frame_pass.cpp
    config/argument_parser.cpp
    config/config_parser.cpp
    config/config.cpp
    config/standard_lib.cpp
    emit/binary_builder.cpp
    emit/clang_asm_emitter.cpp
    emit/debug_emitter.cpp
    emit/nasm_emitter.cpp
    emit/pe/pe_builder.cpp
    emit/pe/pe_emitter.cpp
    emit/pe/pe_format.cpp
    emit/elf/elf_builder.cpp
    emit/elf/elf_emitter.cpp
    emit/elf/elf_format.cpp
    ir/addr_table.cpp
    ir/basic_block.cpp
    ir/comparison.cpp
    ir/control_flow_graph.cpp
    ir/call_graph.cpp
    ir/dead_code_elimination.cpp
    ir/function.cpp
    ir/module.cpp
    ir/operand.cpp
    ir/structure.cpp
    ir/validator.cpp
    ir/type.cpp
    ir/writer.cpp
    ir_builder/assign_ir_builder.cpp
    ir_builder/block_ir_builder.cpp
    ir_builder/bool_expr_ir_builder.cpp
    ir_builder/closure_ir_builder.cpp
    ir_builder/compound_assign_ir_builder.cpp
    ir_builder/conversion.cpp
    ir_builder/deinit_ir_builder.cpp
    ir_builder/expr_ir_builder.cpp
    ir_builder/for_ir_builder.cpp
    ir_builder/func_call_ir_builder.cpp
    ir_builder/func_def_ir_builder.cpp
    ir_builder/if_chain_ir_builder.cpp
    ir_builder/ir_builder_context.cpp
    ir_builder/ir_builder_utils.cpp
    ir_builder/ir_builder.cpp
    ir_builder/location_ir_builder.cpp
    ir_builder/name_mangling.cpp
    ir_builder/return_ir_builder.cpp
    ir_builder/root_ir_builder.cpp
    ir_builder/runtime_ir.cpp
    ir_builder/storage.cpp
    ir_builder/struct_def_ir_builder.cpp
    ir_builder/switch_ir_builder.cpp
    ir_builder/try_ir_builder.cpp
    ir_builder/type_infer_var_decl_ir_builder.cpp
    ir_builder/var_decl_ir_builder.cpp
    ir_builder/while_ir_builder.cpp
    lexer/buffered_reader.cpp
    lexer/lexer.cpp
    mcode/basic_block.cpp
    mcode/function.cpp
    mcode/module.cpp
    mcode/stack_frame.cpp
    parser/decl_parser.cpp
    parser/expr_parser.cpp
    parser/parser.cpp
    parser/stmt_parser.cpp
    parser/token_stream.cpp
    passes/addr_table_pass.cpp
    passes/branch_elimination.cpp
    passes/control_flow_opt_pass.cpp
    passes/cse_pass.cpp
    passes/dead_func_elimination_pass.cpp
    passes/inlining_pass.cpp
    passes/licm_pass.cpp
    passes/loop_analysis.cpp
    passes/loop_inversion_pass.cpp
    passes/pass_runner.cpp
    passes/pass_utils.cpp
    passes/peephole_optimizer.cpp
    passes/precomputing.cpp
    passes/sroa_pass.cpp
    passes/stack_slot_merge_pass.cpp
    passes/stack_to_reg_pass.cpp
    reports/report_manager.cpp
    reports/report_printer.cpp    
    reports/report_texts.cpp
    reports/report_utils.cpp
    reports/report.cpp
    sema/block_analyzer.cpp
    sema/const_evaluator.cpp
    sema/deinit_analyzer.cpp
    sema/expr_analyzer.cpp
    sema/function_resolution.cpp
    sema/generics_arg_deduction.cpp
    sema/generics_instantiator.cpp
    sema/location_analyzer.cpp
    sema/meta_evaluator.cpp
    sema/meta_lowerer.cpp
    sema/params_analyzer.cpp
    sema/semantic_analyzer_context.cpp
    sema/semantic_analyzer.cpp
    sema/type_analyzer.cpp
    sema/stages/decl_body_analyzer.cpp
    sema/stages/decl_name_analyzer.cpp
    sema/stages/decl_type_analyzer.cpp
    sema/stages/use_collector.cpp
    source/file_module_loader.cpp
    source/module_discovery.cpp
    source/module_manager.cpp
    source/text_range.cpp
    symbol/constant.cpp
    symbol/data_type_manager.cpp
    symbol/data_type.cpp
    symbol/enumeration.cpp
    symbol/generics.cpp
    symbol/global_variable.cpp
    symbol/local_variable.cpp
    symbol/location.cpp
    symbol/magic_functions.cpp
    symbol/method_table.cpp
    symbol/module_path.cpp
    symbol/parameter.cpp
    symbol/standard_types.cpp
    symbol/structure.cpp
    symbol/symbol_ref.cpp
    symbol/symbol_table.cpp
    symbol/tuple.cpp
    symbol/union.cpp
    symbol/variable.cpp
    target/standard_data_layout.cpp
    target/target_data_layout.cpp
    target/target_description.cpp
    target/target.cpp
    target/aarch64/aapcs_calling_conv.cpp
    target/aarch64/aarch64_encoding_info.cpp
    target/aarch64/aarch64_immediate.cpp
    target/aarch64/aarch64_instr_merge_pass.cpp
    target/aarch64/aarch64_ir_lowerer.cpp
    target/aarch64/aarch64_reg_analyzer.cpp
    target/aarch64/aarch64_target.cpp
    target/x86_64/ms_abi_calling_conv.cpp
    target/x86_64/sys_v_calling_conv.cpp
    target/x86_64/x86_64_addr_lowering.cpp
    target/x86_64/x86_64_const_lowering.cpp
    target/x86_64/x86_64_encoder.cpp
    target/x86_64/x86_64_ir_lowerer.cpp
    target/x86_64/x86_64_peephole_opt_pass.cpp
    target/x86_64/x86_64_reg_analyzer.cpp
    target/x86_64/x86_64_target.cpp
    utils/bit_operations.cpp
    utils/large_int.cpp
    utils/paths.cpp
    utils/timing.cpp
    utils/utf8_encoding.cpp
    utils/utils.cpp
    utils/write_buffer.cpp
)

target_include_directories(banjo PUBLIC ${CMAKE_CURRENT_SOURCE_DIR})